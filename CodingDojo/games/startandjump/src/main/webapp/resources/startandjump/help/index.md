<meta charset="UTF-8">

## Вступление

Игровой demo-сервер доступен так же в интернете 24/7 в целях
ознакомления [http://codenjoy.com/codenjoy-contest](http://codenjoy.com/codenjoy-contest).

Игра с открытым исходным кодом. Для реализации своей игры, исправления
ошибок в текущей и внесения других правок необходимо для начала
[форкнуть проект](https://github.com/codenjoyme/codenjoy.git).
В корне репозитория есть описание в файле Readme.md - там описано, что делать дальше.

По возникающим вопросам, пиши в [skype alexander.baglay](skype:alexander.baglay)
или на почту [apofig@gmail.com](mailto:apofig@gmail.com).

## В чем суть игры?

Надо написать своего бота для героя, который обыграет других ботов
по очкам. Каждый играет на своем поле. Герой может может прыгать из состояния спокойствия
(от платформы) дважды, и, если твой герой падает, то можешь прыгнуть только один раз.

Чем дольше твой герой живет, тем больше очков ты заработаешь, самое главное - держись как
можно выше и с каждым тиком ты заработаешь больше очков. Ты проигрываешь в двух случаях:
во-первых, если ты столкнешься со стеной сверху или снизу (они смертельно опасны);
во-вторых, если ты столкнешься с платформой.

У тебя есть некоторое преимущество: твой герой считается стоящим на платформе не только,
когда прямо над ней, а еще когда она немного снизу и спереди. Это делает прыжки заметно проще.
Будем считать, что у твоего героя длинные руки;)

Побеждает игрок с наибольшим максимальным набранным количеством очков за одну конкретную
игру. При смерти, сразу же начинается новая игра. Труп ты не увидишь :( 

## Подключение к серверу

Итак, игрок [регистрируется на сервере](../../../register?gameName=startandjump),
указывая свой email.

Далее необходимо подключиться из кода к серверу через websocket.
[Эта подборка](https://github.com/codenjoyme/codenjoy-clients.git)
клиентов для разных языков программирования тебе поможет в твоей игре.
Как запустить клиент смотри в корне проекта в файле README.md.

Если ты не можешь найти свой язык - придется написать свой клиент
(а после пошарить с нами на почту [apofig@gmail.com](mailto:apofig@gmail.com))

Адрес для подключения к игре на сервере выглядит так (ты можешь скопировать его
из игровой комнаты):

`https://[server]/codenjoy-contest/board/player/[user]?code=[code]`

Тут `[server]` - домен или ip-адрес игрового сервера, `[user]` - id игрока, a `[code]` -
твой security token. Убедись что код хранится в тайне, иначе любой участник
сможет играть от твоего имени.

В коде твоего клиента тебе нужно найти похожую строчку и заменить её твоим URL -
тем самым, ты задаёшь логин/пароль для доступа к серверу.
Затем запусти твой клиент и убедись, что сервер получает команды твоего клиента.
После этого можно приступать к работе над логикой бота.

## Формат сообщений

После подключения клиент будет регулярно (каждую секунду) получать строку
символов с закодированным состоянием поля. Формат таков:

`^board=(.*)$`

C помощью этого regexp можно выкусить строку доски. 

## Пример поля

Вот пример строки от сервера:

<pre>#################### =                    =                    =                    =                    =                    =                    =                    =                    =                    =                    =                    =                    =                    =                                        ☺            ==  ===  =        =           =  ==== = ==        ####################</pre>

Длинна строки равна площади поля `N*N`. Если вставить символ 
переноса строки каждые `N=sqrt(length(string))` символов, то 
получится читабельное изображение поля.

<pre>####################
=
=
=
=
=
=
=
=
=
=
=
=
=
=

☺            ==  ===
=        =
=  ==== = ==
####################</pre>

Первый символ строки соответствует ячейке расположенной в
левом верхнем углу и имеет координату `[0, 19]`. 
В этом примере — позиция героя (символ `☺`) — `[0, 3]`.

## Расшифровка символов

Расшифровку символов ты можешь [найти тут](elements.md).

## Как играть?

Игра пошаговая, каждую секунду сервер посылает твоему клиенту
состояние обновленного поля на текущий момент и ожидает ответа
команды герою. За следующую секунду игрок должен успеть дать
команду герою. Если не успел — герой стоит на месте.

Твоя цель заставить героя двигаться в соответствии с задуманным тобой алгоритмом.
Герой на поле должен уметь зарабатывать так много очков, как только сможет.
Основная цель игры - обыграть по очкам всех соперников.

## Команды управления

Есть одна единственная команда: `UP` - это прыжок. Герой может прыгать из состояния
спокойствия (от платформы) дважды, и, если твой герой падает, то можешь прыгнуть 
только один раз. У тебя есть некоторое преимущество: твой герой считается стоящим 
на платформе не только когда прямо над ней, а еще когда она немного снизу и спереди.

Первостепенная задача – написать websocket клиента, который подключится к серверу.
Затем заставить героя слушаться команды. Таким образом, игрок подготовится
к основной игре. Основная задача – вести осмысленную игру и победить.